function stopDefault(e){return e&&e.preventDefault?e.preventDefault():window.event.returnValue=!1,!1}function stopropagation(e){e.stopPropagation?e.stopPropagation():window.event.cancelBubble=!0}function setStore(e,t,a){store.set(e,{val:t,ext:a,time:(new Date).getTime()})}function getStore(e){var t=store.get(e);return t?(new Date).getTime()-t.time>t.ext?null:t.val:null}function mockFormToSubmit(e){var t={actioin:"",query:"",method:"POST"},a=$.extend({},t,e),n=$("<form class='hide' />");n.attr("action",a.action),n.attr("target",a.target),n.attr("method",a.method);var r=[];r=a.query.indexOf("&")>-1?a.query.split("&"):[a.query];for(var i=0;i<r.length;i++){var o=r[i],s=decodeURIComponent(o.split("=")[0].replace(/\+/g,"%20"))||"",c=decodeURIComponent(o.split("=")[1].replace(/\+/g,"%20"))||"",l=$("<input />");l.attr({type:"hidden",name:s,value:c}).appendTo(n)}n.appendTo("body"),n.submit()}function transTime(e,t){if(null!=e){var a=Date.parse(e.replace(/-/g,"/")),n=new Date(a),r=n.getFullYear(),i=n.getMonth()+1;i=1==i.toString().length?"0"+i:i;var o=n.getDate();o=1==o.toString().length?"0"+o:o;var s=n.getHours();s=1==s.toString().length?"0"+s:s;var c=n.getMinutes();c=1==c.toString().length?"0"+c:c;var l=n.getSeconds();l=1==l.toString().length?"0"+l:l;var d="",p=t||"ymdhms";switch(p){case"ymd":d=r+"-"+i+"-"+o;break;case"hms":d=s+":"+c+":"+l}return d}}function HTMLEncode(e){var t=document.createElement("div");null!=t.textContent?t.textContent=e:t.innerText=e;var a=t.innerHTML.replace(/"/g,'"');return t=null,a}Array.prototype.isRepeat=function(){var e={};for(var t in this){if(e[this[t]])return!0;e[this[t]]=!0}return!1},Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++)if(this[t]==e)return t;return-1},Array.prototype.remove=function(e){var t=this.indexOf(e);if(t>-1)return this.splice(t,1)},Array.prototype.unique=function(){for(var e=[],t=0;t<this.length;t++)e.indexOf(this[t])==-1&&e.push(this[t]);return e},Array.prototype.getRepeat=function(){var e=[];return this.concat().sort().sort(function(t,a){t==a&&e.indexOf(t)===-1&&e.push(t)}),e},String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")},String.prototype.push=function(e,t){var a="",n=[];return this.length>0?(this.indexOf(t)>-1?n=this.split(t):n[0]=this,n.push(e),a=n.join(t)):a=e,a},String.prototype.jiami=function(e){for(var t=[],a=e.length,n=0;n<this.length;n++)t.push(e[Math.floor(Math.random()*a)]);var r=this.split("");r=r.reverse();for(var i=1,o=0;o<t.length;o++){var s=o+i;r.splice(s,0,t[o]),i++}var c=r.join("");return c},String.prototype.remove=function(e,t){var a="",n=[];return this.indexOf(e)>-1?(this.indexOf(t)>-1?n=this.split(t):n[0]=this,n.remove(e),a=n.join(t)):alert("no"+e),a},Number.prototype.isInteger=function(){return Math.floor(this)===this},function(e,t,a){var n={type:1,opacity:.5,move:!0,btn:["确定","取消"],title:"提示",content:"",inStyle:"fadeIn",area:["auto","auto"],closeBtn:!1,success:function(){},end:function(e,t){},yes:function(e,t){},no:function(e,t){},complete:function(){},close:function(e,t){},direct:"down",style:""},r=0,i={},o=[],s=function(){};s.prototype.msg=function(e,t){return c("msg",n,t,e),this},s.prototype.msger=function(e,t,a,n){var r=this,i=1===t?"resolve":0===t?"notice":"";switch(arguments.length){case 1:r.msg(e);break;case 2:r.msg(e,{state:i});break;case 3:r.msg(e,{state:i,time:a});break;case 4:r.msg(e,{state:i,time:a,end:function(){"function"==typeof n?n():function(){}}})}},s.prototype.loading=function(e,t){return c("loading",n,t,e),r},s.prototype.alert=function(e,t){return c("alert",n,t,e),this},s.prototype.comfirm=function(e,t){return c("comfirm",n,t,e),this},s.prototype.hello=function(e){return c("hello",n,e),this},s.prototype.iframe=function(e){return c("iframe",n,e),this},s.prototype.close=function(t,a){var r=e("#ceng"+t),o=e("#black"+t);r.removeClass("fadeIn");var s=u(n);"undefined"!=a&&"object"==typeof a&&(s=e.extend(u(n),a)),"function"==typeof s.end&&s.end(r,t),o.css({opacity:0}),setTimeout(function(){r.remove(),o.remove()},200),"dom"===r.attr("type")&&e("body").append(i[t])},s.prototype.closeLoading=function(){var t=this,a=e(".ceng-loading").css("z-index")||0;t.close(a)},s.prototype.closeAll=function(){return e(".ceng").removeClass("fadeIn"),e(".ceng-black").css({opacity:0}),setTimeout(function(){e(".ceng, .ceng-black").remove()},200),this};var c=function(t,a,n,o){var s=u(a);if("undefined"!=n&&"object"==typeof n&&(s=e.extend(u(a),n)),"hello"!=t||"url"!=s.contentType){d(t,s);var c=l(t,Pui.toppestIndex,s,o);e("body").append(c);var h=e("#ceng"+Pui.toppestIndex);switch(t){case"msg":if(s.hasOwnProperty("state")){var f=s.state||"normal";switch(f){case"notice":h.addClass("notice").children(".ceng-content").append('<i class="icon icon-state icon-sign-full"></i>');break;case"resolve":h.addClass("resolve").children(".ceng-content").append('<i class="icon icon-state icon-resolve-full"></i>')}}break;case"alert":break;case"comfirm":break;case"loading":r=Pui.toppestIndex;break;case"hello":"dom"===s.contentType&&(i[Pui.toppestIndex]=e.trim(s.content[0].outerHTML),s.content.remove(),h.find(".ceng-content").append(i[Pui.toppestIndex]).children().show(),h.attr("type","dom"));break;case"iframe":}return p(t,h,s,Pui.toppestIndex),Pui.toppestIndex++,Pui.toppestIndex++}e.ajax({type:s.dtype||"GET",url:s.content,cache:!1,data:s.contentData,dataType:"html",beforeSend:function(){ceng.loading()}}).done(function(a){var n;if("object"==typeof a)n=a;else if("string"==typeof a){if(!(a.indexOf('"ErrorCode":')>-1)){d(t,s);var r=l(t,Pui.toppestIndex,s);e("body").append(r);var i=e("#ceng"+Pui.toppestIndex),o=i.find(".ceng-content");return o.append(a),p(t,i,s,Pui.toppestIndex),o.css({overflow:"auto"}),void Pui.toppestIndex++}n=JSON.parse(a)}n.Status===!1&&(parseInt(n.ErrorCode)===-1?ceng.msger(n.ErrorMessage,0,3e3,function(){top.location.reload()}):ceng.msger(n.ErrorMessage,0))}).fail(function(){setTimeout(function(){ceng.msger("网络异常！",0)},300)}).always(function(){ceng.closeLoading()})},l=function(t,a,n,r){var i=e('<div class="ceng ceng-'+t+'" id="ceng'+a+'" zindex="'+a+'">'),o=e('<a href="javascript:void(0)" class="close-win"><i class="icon icon-close ant"></i></a>'),s=e('<div class="ceng-title">'),c=e('<p class="ellipsis">'+n.title+"</p>");n.closeBtn===!0?s.append(c,o):s.append(c);var l,d=e('<div class="ceng-content"></div>'),p=e('<div class="ceng-content">').append(r);l=r?e('<div class="ceng-loaderTxt"></div>').append(r):e('<div class="ceng-loader"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div>');var u=e('<div class="ceng-content"><iframe frameborder="0"></iframe></div>'),h=e('<div class="ceng-btn clearfix">'),f=e('<div class="flexbtn">');if(n.btn.length>0){if("alert"==t)f.append('<a href="javascript:void(0)" class="btn operbtn btn0">'+n.btn[0]+"</a>");else for(var g=0,v=n.btn.length;g<v;g++)f.append('<a href="javascript:void(0)" class="btn operbtn btn'+g+'">'+n.btn[g]+"</a>");h.append(f)}else h="";switch(t){case"msg":i.append(p);break;case"loading":i.append(l);break;case"alert":n.hasOwnProperty("style")&&""!=n.style&&(i=e('<div class="ceng ceng-alert alert'+n.style+'" id="ceng'+a+'">')),i.append(s),i.append(p),i.append(h);break;case"comfirm":n.hasOwnProperty("style")&&""!=n.style&&(i=e('<div class="ceng ceng-comfirm comfirm'+n.style+'" id="ceng'+a+'">')),i.append(s),i.append(p),i.append(h);break;case"hello":n.hasOwnProperty("style")&&""!=n.style&&(i=e('<div class="ceng ceng-hello hello'+n.style+'" id="ceng'+a+'">'),s=e('<div class="ceng-title">').append(o)),i.append(s),i.append(d),i.append(h);break;case"iframe":i.append(s),i.append(u),i.append(h)}return i},d=function(t,a){var n=0;n=("msg"==t||"loading"==t)&&.5==a.opacity?0:a.opacity;var r='<div class="ceng-black" id="black'+Pui.toppestIndex+'" style="z-index: '+Pui.toppestIndex+'"></div>',i="#black"+Pui.toppestIndex;e("body").append(r),setTimeout(function(){e(i).css({opacity:n})},0)},p=function(a,n,r,i){var s=0,c=0,l=0;if("msg"==a||"loading"==a)s=n.outerWidth(),c=n.outerHeight(),n.css({"margin-left":-s/2,"margin-top":-c/2,left:"50%",top:"50%","z-index":i});else{"alert"!=a&&"comfirm"!=a||(l=60,s="auto"==r.area[0]?n.outerWidth()>=e(t).width()?e(t).width()-40:n.outerWidth():r.area[0],s=2==r.style?s-16:s,n.css("width",s),c="auto"==r.area[1]?n.outerHeight()>=e(t).height()?e(t).height()-40:n.height():r.area[1]>=e(t).height()?e(t).height()-40:r.area[1],c=2==r.style?c-16:c,n.css("height",c)),"hello"!=a&&"iframe"!=a||(s="auto"==r.area[0]?n.outerWidth():r.area[0],n.css("width",s),c="auto"==r.area[1]?n.height()>=e(t).height()?e(t).height()-40:n.outerHeight():r.area[1]>=e(t).height()?e(t).height()-40:r.area[1],n.css("height",c)),2==r.style?n.css({left:e(t).width()/2-s/2-4,top:e(t).height()/2-c/2-4,"z-index":i}):n.css({left:e(t).width()/2-s/2,top:e(t).height()/2-c/2,"z-index":i});var d=n.find(".ceng-btn").outerHeight(),p=n.find(".ceng-title").outerHeight(),u=c-d-p-l;u=u>34?u:"auto"}if(setTimeout(function(){n.addClass("fadeIn")},0),n.removeClass(r.inStyle),"iframe"==a&&r.hasOwnProperty("url")){var h=r.url||"http://www.talebase.com/";n.find("iframe").attr("src",h)}if(n.find(".operbtn").on("click",function(){var t=e(this).index()+1;1===t?e(this).hasClass("disabled")||(e(this).addClass("disabled"),"alert"==a?(r.yes(n,i),r.close(n,i),ceng.close(i)):r.hasOwnProperty("btn1")?r.btn1(n,i):r.yes(n,i)):2===t?r.hasOwnProperty("btn2")?e(this).hasClass("disabled")||(e(this).addClass("disabled"),r.btn2(n,i)):(r.no(n,i),r.close(n,i),ceng.close(i)):e(this).hasClass("disabled")||(e(this).addClass("disabled"),r["btn"+t](n,i))}),n.find(".close-win").on("click",function(){r.close(n,i),ceng.close(i)}),setTimeout(function(){o[i]={cengX:n.css("left"),cengY:n.css("top"),oldX:0,oldY:0,flag:!1};var t=n.children(".ceng-title");t.on("mousedown",function(e){t.get(0).onselectstart=function(){return!1},o[i].flag=!0,o[i].oldX=e.clientX,o[i].oldY=e.clientY}),e(document).on("mouseup",function(){o[i].flag=!1,o[i].cengX=n.css("left"),o[i].cengY=n.css("top")}).on("mousemove",function(e){if(o[i].flag)var t=e.clientX-o[i].oldX,a=e.clientY-o[i].oldY;n.css({left:parseInt(o[i].cengX)+t,top:parseInt(o[i].cengY)+a}),stopDefault(e)}),r.complete(n,i)},100),"loading"==a){var f=r.time||86400;setTimeout(function(){ceng.close(i)},f)}if("msg"==a){var g=r.time||1500;setTimeout(function(){r.end(n),ceng.close(i)},g)}},u=function(e){var t=e instanceof Array?[]:{};for(var a in e)t[a]=typeof e[a]===Object?u(e[a]):e[a];return t};ceng=new s}(jQuery,window,document),function(e,t,a){e.fn.checkboxSmart=function(t){var a={callback:function(){},checkCallback:function(){},uncheckCallback:function(){}},n=e.extend(a,t);return this.each(function(){var t=new Checkobj(e(this),n);t.init()})},Checkobj=function(e,t){this.ele=e,this.opts=t,this.id=this.ele.attr("id"),this.name=this.ele.attr("name")},Checkobj.prototype.init=function(){this.render(),this.watch()},Checkobj.prototype.render=function(){var e=this,t="",a=e.ele.prop("checked")?" checked":"",n=e.ele.is(":disabled")?"disabled":"";return t+='<i class="ant icon icon-resolve"></i>',e.ele.before(t),e.ele.parent(".checkone").addClass("isrender").addClass(a).addClass(n),this},Checkobj.prototype.watch=function(){var t=this,a=t.ele.parent();return a.on("click",function(){if(!t.ele.is(":disabled")){var a=t.ele.is(":checked");t.ele.prop("checked",!a),a?(e(this).removeClass("checked"),t.opts.uncheckCallback(t.ele)):(e(this).addClass("checked"),t.opts.checkCallback(t.ele)),t.opts.callback(t.ele,!a)}}),this}}(jQuery,window,document),function(e,t){var a="function"==typeof define,n="undefined"!=typeof module&&module.exports;a?define(t):n?module.exports=t():window[e]=t()}("Pui",function(){Pui=window.Pui=new Object,Pui.toppestIndex=19900207,Pui.resetActive=function(e,t){var a=t||0;e.children(".ceng-btn").find(".btn").eq(a).removeClass("disabled")},Pui.getCheckVal=function(e){var t=[];return e.find("input:checkbox:checked").each(function(){t.push($(this).val())}),t},Pui.setCheckVal=function(e,t){e.prop("checked",t),t?e.parent().addClass("checked"):e.parent().removeClass("checked")},Pui.getOrder=function(e){var t="",a=$('input[name="sort"]',e);if(a.length>0&&(t=a.val(),""==t)){var n=$(".setOrder .cur a",e),r=n.attr("sortfield"),i=n.hasClass("desc")?"desc":"asc";t=r+" "+i}return t},Pui.getUrlKeyValue=function(e,t){var a="hash"==e?location.hash.slice(1):location.search.slice(1),n=new RegExp("^|&"+t+"=[^&]*","ig"),r=a.match(n);if(r.length<=1)return r[0].split("=")[1]||"";if(r.length>1){for(var i=[],o=0;o<r.length;o++)i.push(r[o].split("=")[1]||"");return i}},Pui.setRadioVal=function(e,t,a){if(t&&t===!0){var n=e.attr("name")||"",r=$('input[name="'+n+'"]');r.parent(".radione").removeClass("checked"),e.parent(".radione").addClass("checked")}else e.parent().removeClass("checked");e.prop("checked",t);var i=e.val();"function"==typeof a&&a(e,i)},Pui.setRadioDisabled=function(e,t){var a=t||!0;a?e.prop("disabled",a).parent(".radione").addClass("disabled"):e.prop("disabled",a).parent(".radione").removeClass("disabled")},Pui.getRadioVal=function(e){var t="";return e.find("input:radio:checked").each(function(){return t=$(this).val(),!1}),t},Pui.toggleSwitchState=function(e,t){var a=parseInt(e.val())||0,n=e.next(".switch-actor");e.is(":disabled")||(a?(e.val(0),n.removeClass("on").addClass("off"),t&&"object"==typeof t&&t.disable(a,e)):(e.val(1),n.removeClass("off").addClass("on"),t&&"object"==typeof t&&t.enable(a,e)))},Pui.togToggle=function(e,t){var a=$(".level"+t),n=$(a,e);if(t>1){for(var r=1;r<t;r++){var i=$(".level"+r);this.togExpand(i,t)}this.togCollapse(n,t)}else this.togCollapse(n,t)},Pui.togCollapse=function(e,t){e.children().children().children(".icon-toggle").removeClass("collapse").addClass("expand").text("+"),e.children("ul").toggle(!1)},Pui.togExpand=function(e,t){e.children().children().children(".icon-toggle").removeClass("expand").addClass("collapse").text("-"),e.children("ul").toggle(!0)},Pui.toggleTableTheadCheckbox=function(e,t,a){a.checkboxSmart({callback:function(n,r){var i=e.find("input.chkone");Pui.setCheckVal(i,r);var o=parseInt(a.parent().find("span").text()),s=parseInt(t.parent().find("span").text());r?o===s&&-Pui.setCheckVal(t,!0):Pui.setCheckVal(t,!1)}}),t.checkboxSmart({callback:function(t,n){var r=e.find("input.chkone");Pui.setCheckVal(r,n),Pui.setCheckVal(a,n)}})},Pui.toggleTableTbodyCheckbox=function(e,t,a,n){n.checkboxSmart({checkCallback:function(){var e=!0;if(n.each(function(){if(0==$(this).prop("checked"))return e=!1,!1}),e){Pui.setCheckVal(a,!0);var r=parseInt(a.parent().find("span").text()),i=parseInt(t.parent().find("span").text());r===i&&Pui.setCheckVal(t,!0)}},uncheckCallback:function(){Pui.setCheckVal(t,!1),Pui.setCheckVal(a,!1)}})},Pui.toggleTableCheckbox=function(e,t,a,n){toggleTableTheadCheckbox(e,t,a,n),toggleTableTbodyCheckbox(e,t,a,n)}}),function(e,t,a){e.fn.radioSmart=function(t){var a={isvalid:!1,eventType:"click",validCallback:function(){},callback:function(e,t){}},r=e.extend({},a,t);return this.each(function(){var t=new n(e(this),r);t.init()})};var n=function(e,t){this.ele=e,this.opts=t,this.id=this.ele.attr("id"),this.name=this.ele.attr("name")};n.prototype.init=function(){this.render(),this.watch()},n.prototype.render=function(){var e=this,t="",a=e.ele.prop("disabled")?"disabled":"",n=e.ele.prop("checked")?" checked":"";return t+='<i class="radicon ant"></i>',e.ele.before(t),e.ele.parent().addClass("isrender").addClass(n).addClass(a),this},n.prototype.watch=function(){var e=this,t=e.ele.parent(".radione");e.ele.val();return t.on(e.opts.eventType,function(t){e.ele.is(":disabled")||Pui.setRadioVal(e.ele,!0,e.opts.callback)}),this}}(jQuery,window,document),function(e,t,a){e.fn.selectSmart=function(t){var a={isvalid:!1,callback:function(){}};e(document).bind("click",function(t){e(".curse").length>0&&e(".curse").removeClass("curse")});var r=e.extend({},a,t);return this.each(function(){var t=new n(e(this),r);t.init()})};var n=function(e,t){this.ele=e,this.opts=t,this.id=this.ele.attr("id")||"",this.container=this.ele.parent(".select-group"),this.curi,this.curt,this.curv};n.prototype.init=function(){this.render(),this.watch()},n.prototype.render=function(){var t=this,a="_"+t.id,n=t.ele.is(":disabled")?"disabled":"";t.curi=t.ele.get(0).selectedIndex,t.curt=t.ele.find("option").eq(t.curi).text(),t.curv=t.ele.find("option").eq(t.curi).val()||"";var r="";0==t.ele.get(0).selectedIndex&&""==t.ele.get(0).value&&(r="default");var i=(t.ele.find("option").length,"");e("option",t.ele).each(function(t){var a=(e(this).text(),e(this).attr("value")||"");""==e(this).attr("value")?"":"value="+a}),i+='<div class="selector '+n+'" id="'+a+'">',i+="<dl>",i+='<dt class="setitle"><a href="javascript:;" class="ellipsis">',i+=t.curt,i+='</a><i class="ant"></i></dt>',i+="</dl>",i+="</div>",t.ele.parent().addClass("render").append(i)},n.prototype.watch=function(){var t=this;t.ele.on("click",function(){t.ele.parent(".select-group").find(".selector").addClass("cuse")}),t.ele.on("change",function(a){t.curi=e(this).get(0).selectedIndex,t.curt=e(this).find("option").eq(t.curi).text(),t.curv=e(this).find("option").eq(t.curi).val()||"",t.ele.parent(".select-group").find(".selector dl dt.setitle a").text(t.curt),"function"==typeof t.opts.callback&&t.opts.callback(t.curi,t.curt,t.curv,t.ele)})}}(jQuery,window,document),function(e,t,a){e.fn.switchSmart=function(t){var a={leftName:"启用",rightName:"禁用",isvalid:!1,validCallback:function(){},enable:function(){},disable:function(){}},r=e.extend({},a,t);return this.each(function(){var t=new n(e(this),r);t.init()})};var n=function(e,t){this.ele=e,this.opts=t,this.id=this.ele.attr("id")};n.prototype.init=function(){this.render(),this.watch()},n.prototype.render=function(){var e=this,t="",a=e.ele.attr("id"),n=e.ele.data("align")||"left",r=e.ele.hasClass("notxt"),i=r?"notxt":"",o=1===parseInt(e.ele.val())?"on":"off",s=e.ele.is(":disabled");t+='<div class="switch-actor '+i+" "+o+'" id="_'+a+'">',t+='<div class="switch-mover ant">',r?(t+='<span class="switch-left"></span>',t+='<span class="switch-dot"></span>',t+='<span class="switch-right"></span>'):(t+='<span class="switch-left">'+e.opts.leftName+"</span>",t+='<span class="switch-dot"></span>',t+='<span class="switch-right">'+e.opts.rightName+"</span>"),t+="</div>",t+="</div>",e.ele.after(t);var c=e.ele.next(".switch-actor");switch(n){case"center":c.css("margin","0 auto");break;case"right":c.css("float","right")}return s&&c.addClass("disabled"),this},n.prototype.watch=function(){var e=this,t=e.ele.next(".switch-actor");return t.on("click",function(){e.opts.isvalid?e.opts.validCallback(e.ele,e.ele.val()):Pui.toggleSwitchState(e.ele,{enable:e.opts.enable,disable:e.opts.disable})}),this}}(jQuery,window,document),function(e,t,a){var n={cur:0,type:"line",resType:"dom",eventType:"click",callback:function(e,t){}};e.fn.tabSmart=function(t){var a=e.extend({},n,t);return this.each(function(){var t=new PUITab(e(this),a);t.init()})},PUITab=function(t,a){this.opts=e.extend({},n,a),this.ele=t,this.cur=this.opts.cur-1,this.header=this.ele.children(".tab-header"),this.body=this.ele.children(".tab-body")},PUITab.prototype.init=function(){this.render(),this.watch()},PUITab.prototype.render=function(){var e=this;e.ele.addClass(e.opts.type);var t="";t+='<div class="radio-group clearfix">';for(var a=0;a<e.opts.data.length;a++)a==e.cur?(t+='<div class="thone radione checked">',t+='<input type="radio" id="'+e.opts.data[a].id+'" checked name="'+e.opts.name+'" value="'+e.opts.data[a].value+'" />'):(t+='<div class="thone radione">',t+='<input type="radio" id="'+e.opts.data[a].id+'" name="'+e.opts.name+'" value="'+e.opts.data[a].value+'" />'),t+="<span>"+e.opts.data[a].key+"</span>",t+="</div>";t+="</div>",e.header.append(t),e.body&&e.body.children(".tbone").removeClass("cur").eq(e.cur).addClass("cur")},PUITab.prototype.watch=function(){var e=this;e.header.find('input[type="radio"]').radioSmart({eventType:e.opts.eventType,callback:function(a,n){switch(e.opts.resType){case"dom":e.body&&e.body.children(".tbone").removeClass("cur").eq(a.parent(".radione").index()).addClass("cur");break;case"url":t.location.href=n||""}e.opts.callback(e,n)}})}}(jQuery,window,document),function(e,t,a){var n={bgcCtrl:!1,hoverColor:"#fff",oddColor:"#fff",evenColor:"#fff",datastyle:"local",dataSource:"",queryUrl:"",isquery:!0,queryObj:'$("form")',extraStr:"",container:"",suppBack:!1,headCtrl:!0,pageCtrl:!0,isBase64:!1,firstLoadCallback:function(){},afterLoadCallback:function(){},afterPage:function(){},afterQuery:function(){}},r=function(t,a,r){this.opts=e.extend({},n,r),this.ele=t,this.tmpl=a,this.whattoload="",this.queryStr="",this.pageStr="",this.finalStr="",this.finalUrl=this.opts.queryUrl,this.allowRestoreState=!0};r.prototype.init=function(){},r.prototype.afterLoadData=function(e,t){var a=this;a.opts.afterLoadCallback(e,t)},r.prototype.pageControl=function(e){var t=this,a="";if("string"==typeof e?a=t.opts.isBase64?JSON.parse(Base64.decode(e)):JSON.parse(e):"object"==typeof e&&(a=t.opts.isBase64?Base64.decode(e):e),t.opts.pageCtrl){var n=t.ele.closest(".page-table");n.find(".makePGbottom").remove(),n.append('<div class="makePGbottom"><div class="pagination-out"><div class="pagination"></div></div></div>'),n.find(".pagination").pager({totalItem:a.TotalRecords||0,pageSize:a.PageSize||10,pageIndex:a.PageIndex||1,action:function(e,a){t.whattoload="page",t.pageStr="&pageIndex="+e+"&pageSize="+a,t.opts.isquery&&(t.queryStr=t.opts.queryObj.serialize()),t.finalStr=t.queryStr+t.pageStr+t.opts.extraStr,t.opts.suppBack?location.hash=t.finalStr:t.ajaxData()}})}},r.prototype.watch=function(){var t=this;return t.opts.bgcCtrl&&(e("tbody tr:even",t.ele).css("backgroundColor",t.opts.evenColor),e("tbody tr:odd",t.ele).css("backgroundColor",t.opts.oddColor),e("tbody tr",t.ele).hover(function(){oriColor=e(this).css("backgroundColor"),e(this).css("backgroundColor",t.opts.hoverColor)},function(){e(this).css("backgroundColor",oriColor)})),this},r.prototype.query=function(){var e=this;new QueryFormHigher(e.opts.queryObj,{async:function(t){e.whattoload="query",e.queryStr=t,e.pageStr="",e.finalStr=e.queryStr+e.pageStr+e.opts.extraStr,e.opts.suppBack?(e.allowRestoreState=!1,location.hash=t,e.allowRestoreState=!0):e.ajaxData()}})},r.prototype.ajaxData=function(t,a){var n=this,r="function"==typeof a?a:function(){};e.ajax({type:"POST",cache:!1,data:n.finalStr,url:n.finalUrl,beforeSend:function(){ceng.loading()}}).done(function(e){n.loadData(e),n.pageControl(e),r()}).fail(function(){}).always(function(){ceng.closeLoading()})},r.prototype.reRender=function(e){var t=this;t.ajaxData({},e)},r.prototype.restoreState=function(){var t=this;if(t.allowRestoreState){var a=location.hash.slice(1);if(a.length>0&&a.indexOf("=")>-1){var n=a.split("&");e(".filter-line",t.opts.queryObj)&&e(".filter-line",t.opts.queryObj).each(function(){e(this).find("a").eq(0).addClass("check").siblings("a").removeClass("check").find("a").prop("checked",!1)}),e.each(n,function(){var a=this.split("="),n=a[0],r=a[1]||"";if(""!=n){if("pageIndex"==n)return;if("pageSize"==n)return;if("sort"==n){if(""!=r){var i=r.split("+");e(".setOrder a",t.opts.queryObj).each(function(){if(e(this).attr("sortfield")==i[0])return e(this).removeClass("desc asc").addClass(i[1]).parent("li").addClass("cur").siblings("li").removeClass("cur"),!1})}else e(".setOrder li",t.opts.queryObj).removeClass("cur").eq(0).addClass("cur");return}if("hidIsAdvSearch"==n){var o=e(".attach-search",t.opts.queryObj),s=e(".highSearch",t.opts.queryObj);return void(0===parseInt(r)?(o.show(),s.height(0).removeClass("higher")):(o.hide(),s.height(e(".highSearchInner").height()).addClass("higher")))}var c=e("[name="+n+"]",t.opts.queryObj),l=c.get(0).tagName.toLowerCase();switch(l){case"input":var d=c.attr("type").toLowerCase();if("checkbox"==d)return void c.each(function(){if(e(this).val()==r)return e(this).prop("checked",!0).parent("a").addClass("check").siblings(".sall").removeClass("check"),!1});if("radio"==d)return void c.each(function(){e(this).val()==r&&e(this).prop("checked",!0).parent("a").addClass("check").siblings("a").removeClass("check").find("input").prop("checked",!1)});if("hidden"==d)return;c.val(decodeURI(r));break;case"textarea":var p=decodeURI(r)||"";c.val(p),c.removeClass("default");break;case"select":}}})}else{e(".filter-line",t.opts.queryObj).each(function(){e(this).find("a").eq(0).addClass("check").siblings("a").removeClass("check").find("a").prop("checked",!1)}),e(".attach-search",t.opts.queryObj).show(),e(".highSearch",t.opts.queryObj).height(0).removeClass("higher");var r=e(".setOrder .cur a",t.opts.queryObj).attr("sortfield"),i=e(".setOrder .cur a",t.opts.queryObj).hasClass("desc")?"desc":"asc";e('input[name="sort"]',t.opts.queryObj).val(r+" "+i),e('input[type="text"]',t.opts.queryObj).val(""),e('input[type="number"]',t.opts.queryObj).val(""),e('input[type="password"]',t.opts.queryObj).val(""),e('input[type="tel"]',t.opts.queryObj).val(""),e("textarea",t.opts.queryObj).val("")}}},r.prototype.queryFormInitState=function(){};var i=t.TableHigher=function(t,a,r){this.firstload=!0,this.opts=e.extend({},n,r),this.ele=t,this.tmpl=a,this.queryStr="",this.pageStr="",this.finalStr="",this.finalUrl=this.opts.queryUrl,this.init()};i.prototype=new r,i.prototype.init=function(){var e=this;1==e.opts.suppBack?e.hashcg():e.render(),e.opts.isquery===!0&&e.query()},i.prototype.loadData=function(e){var a,n=this,r=typeof e;"string"==r?a=n.opts.isBase64?JSON.parse(Base64.decode(e)):JSON.parse(e):"object"==r&&(a=n.opts.isBase64?Base64.decode(e):e),a.hasOwnProperty("Status")&&0==a.Status?ceng.alert(a.ErrorMessage,{yes:function(){a.ErrorCode===-1&&t.location.reload()}}):(n.opts.container.empty(),n.opts.container.append(n.tmpl.tmpl(a)),n.watch(),n.firstload===!0&&(n.opts.firstLoadCallback(n.ele,a),n.firstload=!1),n.afterLoadData(n.ele,a)),"page"==n.whattoload&&n.opts.afterPage(),"query"==n.whattoload&&n.opts.afterQuery(),n.whattoload=""},i.prototype.hashcg=function(){var e=this;t.onhashchange=function(){var a=t.location.hash.slice(1);return""!=a?(e.finalStr=a,e.ajaxData()):e.render(),e.restoreState(),!1};var a=t.location.hash.slice(1);a.length>2?(e.finalStr=a,e.restoreState(),e.ajaxData()):e.render()},i.prototype.render=function(){var t=this;switch(t.opts.datastyle){case"local":t.loadData(t.opts.dataSource),t.pageControl(t.opts.dataSource);break;case"url":e.ajax({type:"POST",dataType:"json",data:"",url:t.opts.dataSource}).done(function(){t.loadData(t.opts.dataSource),t.pageControl(t.opts.dataSource)})}}}(jQuery,window,document),function(e,t,a){var n={language:"cn",isAsync:!1,isRenderCheckbox:!1,isRenderRadio:!1,isRenderSelect:!1,isRenderUpload:!1,scrollToError:!0,asyncFun:function(){},errFun:function(){}},r=!1,i={cn:{empty:"该字段不能为空",mail:"邮箱格式不正确",mobile:"手机格式不正确",idcard:"身份证格式不正确",six:"长度不能小于6位数",number:"请输入数字",integer:"请输入整数",integerp:"请输入正整数",integern:"请输入负整数",website:"网址格式不正确",chinese:"请输入中文",psw1:"新旧密码不能相同",psw2:"新旧密码不能相同",psw2b:"两次密码输入不一致",pswmix:"密码需含有数字和字母",upload:"请选择上传文件",uploadformat:"上传的文件格式不正确",maxlength:"长度不能大于",minlength:"长度不能小于",numlength2:"位数",maxrows:"数量不能超过",maxrows2:"个",spcode:"不能输入下列任何字符组合：&#、<加字母、<!、</"},hk:{empty:"該字段不能為空",mail:"郵箱格式不正確",mobile:"手機格式不正確",idcard:"身份證格式不正確",six:"長度不能小于6位數",number:"請輸入數字",integer:"請輸入整數",integerp:"請輸入正整數",integern:"請輸入负整數",website:"網址格式不正確",chinese:"請輸入中文",psw1:"新舊密碼不能相同",psw2:"新舊密碼不能相同",psw2b:"兩次密碼輸入不一致",pswmix:"密碼需含有數字和字母",upload:"請選擇上傳文件",uploadformat:"上傳的文件格式不正確",maxlength:"長度不能大於",minlength:"長度不能小於",numlength2:"",maxrows:"數量不能超過",maxrows2:"個",spcode:"不能輸入下列任何字符組合：&#、<加字母、<!、</"},en:{empty:"Can not be empty",mail:"Email format is incorrect",mobile:"Phone format is incorrect",idcard:"Idcard format is incorrect",six:"Must be longger than six",number:"Please enter number",integer:"Please enter integer",integerp:"Please enter positive integer",integern:"Please enter negative integer",website:"Website format is incorrect",chinese:"Please enter Chinese",psw1:"The old and new passwords can not be same",psw2:"The old and new passwords can not be same",psw2b:"The two new passwords must be same",pswmix:"The password must contain numbers and letters",upload:"Please select upload files",uploadformat:"Upload file format is incorrect",maxlength:"The Length could not more than",minlength:"The Length could not less than",numlength2:"",maxrows:"The number can not be exceeded",maxrows2:"",spcode:"Could not input character just like &#、< & letter、<!、</"}},o={mail:/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\_-])+\.)+([a-zA-Z0-9]{2,7})+$/,mobile:/^1[3456789]\d{9}$/,chinese:/^[\u4E00-\u9FA5]+$/,num:/^\d+$/,idcard:/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,idcardHK:/^[a-zA-Z]{1,2}\d{6}\([\daA]\)$/,six:/^\S{6,}$/,website:/(http\:\/\/)?([\w.]+)(\/[\w- \.\/\?%&=]*)?/gi,spcode:/(&#|<[a-zA-Z]*|<!|<\/)/},s=t.Valid=function(){},c=function(e){var t=i[e]||i.cn;return t};s.prototype.blurs=function(t,a){"undefined"==typeof a&&(a={}),t.on("blur",".txt, .psw1, .psw2, .psw2b, textarea",function(){var t=e(this);l(t,a)})},s.prototype.check=function(e,t){return l(e,t),this},s.prototype.errored=function(e,t){h(e,t,!0)},s.prototype.checkall=function(t,a){r=!0,e(".txt, .psw1, .psw2, .psw2b, .radio-group, .check-group, .upload-group, textarea, select",t).each(function(){var t=e(this),n=t.attr("data-reqs")||"",o=n.split(",")||[],s=t.attr("data-req")||!1,c=d(t);if(""===e.trim(c)){var l=t.attr("data-empty-msg")||i[a.language].empty;h(t,l,s),s&&(r=!1)}else if(o.length>0)for(var u=0;u<o.length;u++){var f=e.trim(o[u]),g=p(t,f,c,a);if(g===!0){r=!1;break}}})},s.prototype.submit=function(t,a){var n=this;t.on("submit",function(i){if(n.checkall(t,a),a.isAsync){if(i.preventDefault(),r)return void a.asyncFun();if(a.errFun(),1==a.scrollToError){var o=e(".errself",t).eq(0);/select/.test(o.get(0).nodeName.toLowerCase())&&(o=o.next(".selector"));var s=o.offset().top;e("body,html").animate({scrollTop:s-10},"fast")}}})},s.prototype.form=function(t,a){var r=this,i=e.extend({},n,a);return r.blurs(t,i),r.submit(t,i),r.checkbox(t,i),r.radio(t,i),r.select(t,i),r.upload(t,i),this},s.prototype.input=function(e,t){var a=this;return e.on("blur",function(){a.check(e,t)}),this},s.prototype.checkbox=function(t,a){return a.isRenderCheckbox?e("input[type=checkbox]",t).checkboxSmart({callback:function(e){var t=e.closest(".check-group"),n=t.data("req")||!1;n&&f(t,a)}}):e(".check-group",t).each(function(){var t=e(this),n=t.data("req")||!1;if(n){var r=t.find('input[type="checkbox"]');r.on("click",function(){f(t,a)})}}),this},s.prototype.radio=function(t,a){return e("input[type=radio]",t).length>0&&(a.isRenderRadio?e("input[type=radio]",t).radioSmart({callback:function(e){var t=e.closest(".radio-group"),n=t.data("req")||!1;n&&f(t,a)}}):e(".radio-group",t).each(function(){var t=e(this),n=t.data("req")||!1;if(n){var r=t.find("input[type=radio]");r.on("change",function(){f(e(this),a)})}})),this},s.prototype.select=function(t,a){return e("select",t).length>0&&(a.isRenderSelect?e("select",t).selectSmart({callback:function(e,t,n,r){var i=r.data("req")||!1;i&&f(r,a)}}):e("select",t).on("change",function(){var t=e(this).data("req")||!1;t&&f(e(this),a)})),this},s.prototype.upload=function(t,a){return e(".upload-group",t).length>0&&e(".upload-group",t).each(function(){var t=e(this),a=(t.data("req")||!1,t.find('input[type="file"]').eq(0)),n=t.find('input[type="text"]').eq(0);a.on("change",function(){var a=e(this).val(),r=a.lastIndexOf("\\"),i=a.substring(r+1,a.length);n.val(i),b(t,a)})}),this};var l=function(t,a){var a=a||n,r=t.data("reqs")||"",o=t.data("req")||!1,s=r.split(","),c=d(t),l=t.attr("data-empty-msg")||i[a.language].empty;if(""==e.trim(c))h(t,l,o);else{h(t,l,!1);for(var u=0;u<s.length;u++){var f=e.trim(s[u]),g=p(t,f,c,a);if(g===!0)return!1}}},d=function(e){var t,a=/(input|textarea)/,n=/select/;if(a.test(e.get(0).nodeName.toLowerCase())&&(t=e.val()||""),n.test(e.get(0).nodeName.toLowerCase())&&(t=e.find("option:selected").val()||""),e.hasClass("radio-group")||e.hasClass("check-group")){var r=e.find("input").eq(0).attr("name");t=e.find("input[name="+r+"]:checked").val()||"";
}if(e.hasClass("upload-group"))var t=e.find("input[type=file]").val()||"";return t},p=function(e,t,a,n){var r=c(n.language);switch(t){case"six":return u(o.six,a)?h(e,r.six,!1):h(e,r.six,!0);case"spcode":return u(o.spcode,a)?h(e,r.spcode,!0):h(e,r.spcode,!1);case"minlength":return m(e,a,r);case"maxlength":return v(e,a,r);case"integer":return g(e,a,"is",r);case"integerp":return g(e,a,"gt",r);case"integern":return g(e,a,"lt",r);case"mail":return u(o.mail,a)?h(e,r.mail,!1):h(e,r.mail,!0);case"mobile":return u(o.mobile,a)?h(e,r.mobile,!1):h(e,r.mobile,!0);case"idcard":return u(o.idcard,a)?h(e,r.idcard,!1):h(e,r.idcard,!0);case"chinese":return u(o.chinese,a)?h(e,r.chinese,!1):h(e,r.chinese,!0);case"psw1":return y(e,t,a,r);case"psw2":return y(e,t,a,r);case"psw2b":return y(e,t,a,r);case"pswmix":return w(e,a,r);case"upload":return b(e,a,r);case"query":k(e,a,r);break;case"maxrows":return x(e,a,r);case(t.match(/^custom/)||{}).input:C(e,a,t);default:return!1}},u=function(e,t){var a=e.test(t);return a},h=function(e,t,a){var n,i=e.data("show")||"append";if(e.parent().find(".errtip").remove(),a)switch(i){case"append":e.addClass("errself"),e.parent().append('<p class="errtip">'+HTMLEncode(t)+"</p>"),clearTimeout(n),n=setTimeout(function(){e.parent().find(".errtip").remove()},1500),r=!1;break;case"ceng":ceng.msger(t,0)}else e.removeClass("errself").parent().find(".errtip").remove();return e.attr("data-status",!a),a},f=function(e,t,a){var n=d(e),r=""==n,o=e.attr("data-empty-msg")||i[t.language].empty;return h(e,o,r,a),r},g=function(e,t,a,n){switch(a){case"gt":var r=/^(\+?[1-9][0-9]*)$/;return h(e,n.integerp,!r.test(t));case"lt":var r=/^-\+?[1-9][0-9]*$/;return h(e,n.integern,!r.test(t));default:var r=/^-?\d+$/;return h(e,n.integer,!r.test(t))}},v=function(t,a,n){var r=parseInt(t.attr("data-max-length"))||1024,i=e.trim(t.val()).length,o=i>r;return h(t,n.maxlength+r+n.numlength2,o)},m=function(t,a,n){var r=parseInt(t.attr("data-min-length"))||1,i=e.trim(t.val()).length,o=i<r;return h(t,n.minlength+r+n.numlength2,o)},b=function(e,t,a){var n=e.data("format")||"";if(n.length){var r=t.lastIndexOf("."),i=t.substring(r+1,t.length),o=n.indexOf(i)==-1;return h(e,a.uploadformat,o)}},y=function(e,t,a,n){var r=e.closest("form").find(".psw1").eq(0).val(),i=e.closest("form").find(".psw2").eq(0).val(),o=e.closest("form").find(".psw2b").eq(0).val();switch(t){case"psw2":if(""!=r){if(""!=a)return r==a?h(e,n.psw2,!0):h(e,n.psw2,!1)}else if(""!=o&&""!=a)return o!=a?h(e,n.psw2b,!0):h(e,n.psw2b,!1);break;case"psw2b":if(""!=i&&""!=a)return i!=a?h(e,n.psw2b,!0):h(e,n.psw2b,!1);break;default:return!1}},w=function(e,t,a){var n=t.match(".*[a-zA-Z]+.*")&&t.match(".*[\\d]+.*");return h(e,a.pswmix,!n)},k=function(t,a,n){if(t.hasClass("errself"))h(t,t.attr("err-msg"),!0),r=!1;else{var i=t.attr("data-query")||"",o=(t.attr("name")||"",t.attr("query-string")||""),s="";if(o=e.parseJSON(o),"object"==typeof o)for(var c in o)s+="&"+c+"="+o[c];var l=t.attr("name")+"="+t.val()+s;i.length&&e.ajax({type:"POST",dataType:"json",url:i,async:!1,data:l,beforeSend:function(){ceng.loading()}}).done(function(e){ceng.closeLoading();var a=!e.Status||!1;h(t,e.Message,a),a===!0?t.attr("err-msg",e.Message):t.removeAttr("err-msg")}).fail(function(e,t,a){}).always(function(){})}},x=function(t,a,n){for(var r=parseInt(t.attr("data-max-rows"))||1e8,i=a.split("\n"),o=0,s=0;s<i.length;s++)""!=e.trim(i[s])&&o++;var c=o>r;return h(t,n.maxrows+r+n.maxrows2,c)},C=function(e,t,a){var n=e.attr(a)||{reg:!1,errmsg:""};return n=JSON.parse(n),n.reg?h(e,n.errmsg,!1):h(e,n.errmsg,!0)}}(jQuery,window,document);